// Place your key bindings in this file to override the defaultsauto[]
[
    // 修改ctrl+w与ctrl+shift+w
    {
        "key": "ctrl+shift+w",
        "command": "workbench.action.closeGroup",
        "when": "activeEditorGroupEmpty && multipleEditorGroups"
    },
    {
        "key": "ctrl+shift+w",
        "command": "workbench.action.closeActiveEditor"
    },
    {
        "key": "ctrl+shift+w",
        "command": "-workbench.action.closeWindow"
    },
    {
        "key": "ctrl+w",
        "command": "-workbench.action.closeGroup",
        "when": "activeEditorGroupEmpty && multipleEditorGroups"
    },
    {
        "key": "ctrl+w",
        "command": "-workbench.action.closeActiveEditor"
    },
    // 取消vscode-neovim的ctrl+f按键绑定，以使用vscode内建搜索
    {
        "key": "ctrl+f",
        "command": "-vscode-neovim.ctrl-f",
        "when": "editorTextFocus && neovim.ctrlKeysNormal && neovim.init && neovim.mode != 'insert'"
    },
    // 使普通模式下ctrl+c可复制文本
    {
        "key": "ctrl+c",
        "command": "-vscode-neovim.escape",
        "when": "editorTextFocus && neovim.ctrlKeysNormal && neovim.init && neovim.mode != 'insert'"
    },
    // 行首与行首
    {
        "key": "ctrl+a",
        "command": "cursorLineStart",
        "when": "editorTextFocus && neovim.mode != 'visual'",
    },
    {
        "key": "ctrl+e",
        "command": "cursorLineEnd",
        "when": "editorTextFocus && neovim.mode != 'visual'",
    },
    {
        "key": "ctrl+e",
        "command": "vscode-neovim.send",
        "when": "editorTextFocus && neovim.mode == 'visual'",
        "args": "$"
    },
    {
        "key": "ctrl+e",
        "command": "-vscode-neovim.ctrl-e",
        "when": "editorTextFocus && neovim.ctrlKeysNormal && neovim.init && neovim.mode != 'insert'"
    },
    {
        "key": "ctrl+e",
        "command": "-workbench.action.quickOpen"
    },
    // 左右移动一个单词
    {
        "key": "ctrl+right",
        "command": "vscode-neovim.send",
        "args": "w",
        "when": "neovim.recording || editorTextFocus && neovim.init && neovim.mode != 'insert'"
    },
    {
        "key": "ctrl+right",
        "command": "-vscode-neovim.send",
        "when": "neovim.recording || editorTextFocus && neovim.init && neovim.mode != 'insert'"
    },
    {
        "key": "ctrl+left",
        "command": "vscode-neovim.send",
        "args": "b",
        "when": "neovim.recording || editorTextFocus && neovim.init && neovim.mode != 'insert'"
    },
    {
        "key": "ctrl+left",
        "command": "-vscode-neovim.send",
        "when": "editorTextFocus && neovim.init && neovim.mode != 'insert'"
    },
    // 左移右移
    {
        "key": "shift+left",
        "command": "editor.action.outdentLines",
        "when": "editorTextFocus && neovim.mode == insert",
    },
    {
        "key": "shift+right",
        "command": "editor.action.indentLines",
        "when": "editorTextFocus && neovim.mode == insert",
    },
    // 上移下移
    {
        "key": "shift+down",
        "command": "editor.action.moveLinesDownAction",
        "when": "editorTextFocus && !editorReadonly"
    },
    {
        "key": "shift+up",
        "command": "editor.action.moveLinesUpAction",
        "when": "editorTextFocus && !editorReadonly"
    },
    // 后向删除
    {
        "key": "ctrl+l",
        "command": "deleteRight",
        "when": "editorTextFocus && neovim.mode == insert",
    },
    {
        "key": "ctrl+k",
        "command": "deleteAllRight",
        "when": "editorTextFocus && neovim.mode == insert",
    },
    // 使用vscode原生undo stack
    {
        "key": "u",
        "command": "undo",
        "when": "editorTextFocus && neovim.mode != insert",
    },
    {
        "key": "ctrl+r",
        "command": "redo",
        "when": "editorTextFocus && neovim.mode != insert",
    },
    // Editor Group切换
    {
        "key": "tab",
        "command": "workbench.action.focusNextGroup",
        "when": "editorTextFocus && neovim.mode != insert"
    },
    {
        "key": "shift+tab",
        "command": "workbench.action.focusPreviousGroup",
        "when": "editorTextFocus && neovim.mode != insert"
    },
    // 折叠
    {
        "key": "ctrl+z z",
        "command": "editor.toggleFold",
        "when": "editorTextFocus && foldingEnabled && neovim.mode != insert"
    },
    {
        "key": "ctrl+z r",
        "command": "editor.unfoldAll",
        "when": "editorTextFocus && foldingEnabled && neovim.mode != insert"
    },
    {
        "key": "ctrl+z m",
        "command": "editor.foldAll",
        "when": "editorTextFocus && foldingEnabled && neovim.mode != insert"
    },
    {
        "key": "ctrl+z n",
        "command": "editor.gotoNextFold",
        "when": "editorTextFocus && neovim.mode != insert"
    },
    {
        "key": "ctrl+z b",
        "command": "editor.gotoPreviousFold",
        "when": "editorTextFocus && neovim.mode != insert"
    },
    {
        "key": "ctrl+z p",
        "command": "editor.gotoParentFold",
        "when": "editorTextFocus && neovim.mode != insert"
    },
    // 书签
    {
        "key": "ctrl+m m",
        "command": "bookmarks.toggle",
        "when": "editorTextFocus && neovim.mode != insert"
    },
    {
        "key": "ctrl+m i",
        "command": "bookmarks.toggleLabeled",
        "when": "editorTextFocus && neovim.mode != insert"
    },
    {
        "key": "ctrl+m l",
        "command": "bookmarks.list",
        "when": "editorTextFocus && neovim.mode != insert"
    },
    {
        "key": "ctrl+m shift+l",
        "command": "bookmarks.listFromAllFiles",
        "when": "editorTextFocus && neovim.mode != insert"
    },
    {
        "key": "ctrl+m c",
        "command": "bookmarks.clear",
        "when": "editorTextFocus && neovim.mode != insert"
    },
    {
        "key": "ctrl+m shift+c",
        "command": "bookmarks.clearFromAllFiles",
        "when": "editorTextFocus && neovim.mode != insert"
    },
    {
        "key": "ctrl+m n",
        "command": "bookmarks.jumpToNext",
        "when": "editorTextFocus && neovim.mode != insert"
    },
    {
        "key": "ctrl+m b",
        "command": "bookmarks.jumpToPrevious",
        "when": "editorTextFocus && neovim.mode != insert"
    },
    // Tab键选择补全
    {
        "key": "tab",
        "command": "acceptSelectedSuggestion",
        "when": "suggestWidgetVisible && textInputFocus"
    },
    {
        "key": "shift+tab",
        "command": "acceptSelectedSuggestion",
        "when": "suggestWidgetVisible && textInputFocus"
    },
    {
        "key": "tab",
        "command": "selectNextSuggestion",
        "when": "editorTextFocus && suggestWidgetMultipleSuggestions && suggestWidgetVisible"
    },
    {
        "key": "shift+tab",
        "command": "selectPrevSuggestion",
        "when": "editorTextFocus && suggestWidgetMultipleSuggestions && suggestWidgetVisible"
    },
    // 手动触发补全列表
    {
        "key": "ctrl+oem_5",
        "command": "editor.action.triggerSuggest",
        "when": "editorHasCompletionItemProvider && textInputFocus && !editorReadonly"
    },
    // 手动查询snippets
    {
        "key": "alt+oem_5",
        "command": "editor.action.insertSnippet",
        "when": "editorTextFocus"
    },
    // 快速包围：我他娘的是个天才
    {
        "key": "alt+e",
        "command": "extension.multiCommand.execute",
        "args": {
            "sequence": [
                "vscode-neovim.escape",
                {
                    "command": "vscode-neovim.send",
                    "args": "a"
                },
                {
                    "command": "vscode-neovim.send",
                    "args": "<M-e>"
                }
            ]
        },
        "when": "editorTextFocus && neovim.mode == insert",
    },
    // fast matchup
    {
        "key": "alt+s",
        "command": "vscode-neovim.send",
        "args": "%",
        "when": "editorTextFocus && neovim.mode == normal"
    },
    {
        "key": "alt+s",
        "command": "vscode-neovim.send",
        "args": "<C-O>%<Esc>",
        "when": "editorTextFocus && neovim.mode == insert"
    },
    {
        "key": "alt+s",
        "command": "-markdown.extension.editing.toggleStrikethrough",
        "when": "editorTextFocus && !editorReadonly && editorLangId == 'markdown'"
    },
    // vscode的delete word不区分unicode标点符号，使用neovim的
    // {
    //     "key": "ctrl+w",
    //     "command": "extension.multiCommand.execute",
    //     "args": {
    //         "sequence": [
    //             "vscode-neovim.escape",
    //             {
    //                 "command": "vscode-neovim.send",
    //                 "args": "a"
    //             },
    //             {
    //                 "command": "vscode-neovim.send",
    //                 "args": "<C-W>"
    //             }
    //         ]
    //     },
    //     "when": "editorTextFocus && neovim.mode == insert",
    // },
    // 多光标
    {
        "key": "ctrl+n",
        "command": "editor.action.addSelectionToNextFindMatch",
        "when": "editorFocus"
    },
    {
        "key": "ctrl+shift+n",
        "command": "editor.action.addSelectionToPreviousFindMatch"
    },
    // 文件头部
    {
        "key": "shift+alt+h",
        "command": "extension.fileheader",
        "when": "editorTextFocus"
    },
    // 翻译替换
    {
        "key": "shift+alt+t",
        "command": "translator.replaceWithTranslation"
    },
    // toggle side bar
    {
        "key": "f1",
        "command": "workbench.action.toggleSidebarVisibility"
    },
    // 打开explorer
    {
        "key": "shift+alt+e",
        "command": "remote-wsl.revealInExplorer",
        "when": "editorFocus && remoteName == 'wsl'"
    },
    {
        "key": "shift+alt+e",
        "command": "revealFileInOS",
        "when": "!editorFocus"
    },
    // run code
    {
        "key": "shift+alt+r",
        "command": "-remote-wsl.revealInExplorer",
        "when": "editorFocus && remoteName == 'wsl'"
    },
    {
        "key": "shift+alt+r",
        "command": "-revealFileInOS",
        "when": "!editorFocus"
    },
    {
        "key": "shift+alt+r",
        "command": "code-runner.run"
    },
    {
        "key": "ctrl+alt+n",
        "command": "-code-runner.run"
    },
    // 计算器
    {
        "key": "shift+alt+c",
        "command": "calculator.showInput"
    },
    // 终端
    {
        "key": "alt+oem_3",
        "command": "workbench.action.terminal.toggleTerminal",
        "when": "terminal.active"
    },
    // markdown预览
    {
        "key": "ctrl+shift+v",
        "command": "-markdown.extension.togglePreview",
        "when": "!terminalFocus"
    },
    {
        "key": "ctrl+shift+v",
        "command": "-markdown-preview-enhanced.openPreview",
        "when": "editorLangId == 'markdown'"
    },
    {
        "key": "ctrl+shift+v",
        "command": "-markdown.showPreview",
        "when": "!notebookEditorFocused && editorLangId == 'markdown'"
    },
    {
        "key": "ctrl+shift+v",
        "command": "markdown-preview-enhanced.openPreviewToTheSide",
        "when": "editorLangId == 'markdown'"
    },
    // HTML预览
    {
        "key": "ctrl+shift+v",
        "command": "html.showPreviewToSide",
        "when": "editorLangId == 'html'"
    },
    {
        "key": "ctrl+k v",
        "command": "-html.showPreviewToSide",
        "when": "editorLangId == 'html'"
    },
    {
        "key": "ctrl+shift+v",
        "command": "-html.showPreview",
        "when": "editorLangId == 'html'"
    },
]